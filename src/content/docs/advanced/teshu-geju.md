---
title: 特殊格局判断
description: 八字特殊格局的判断方法与用神取法
---

# 特殊格局判断

八字除了正格之外，还有**變格**（特殊格局）。凡八字不屬於變格，才可以使用正格來取用神。變格的取用神公式與正格不相同。

## 變格分類

| 格局類型 | 子類型 |
|---------|--------|
| **從格** | 從財格、從官殺格、從兒格 |
| **專旺格**（一行得氣格） | 曲直格、炎上格、稼穡格、從革格、潤下格 |
| **化氣格** | 化木格、化火格、化土格、化金格、化水格 |
| **兩神成象格** | 兩神相成格（相剋）、兩神相生格 |
| **暗沖格** | 倒沖祿馬、飛天祿馬、井欄叉格 |
| **暗合格** | 暗合官格 |

---

## 一、從格

> 書云：「從得真者只論從，從神又有吉合凶」

### 從格成立條件（五點必須具備）

1. **日元無根** ✓
2. **四柱無印比**（或只有一印星或一比劫在天干，但卻無根及其他五行生扶）
3. **所從之神臨旺地**
4. **滿盤從神**（全局若無生扶，必是損耗日元之神：官殺、食傷或財星）
5. **沒有剋制所從六神的五行**

### 從格判斷邏輯

```
IF 日元無根
   AND (四柱無印比 OR (印比在天干且無根無生扶))
   AND 某五行損耗日元最強
THEN 該五行為從格
```

### 從格類型與用神

| 從格類型 | 用神 | 喜神 | 忌神 | 不喜 |
|---------|------|------|------|------|
| **從財格** | 財星 | 食傷 | 比劫 | 印星 |
| **從官殺格** | 官殺 | 財星 | 食傷 | 印比 |
| **從兒格**（從食傷格） | 食傷 | 財星 | 印星 | 官殺 |

### 陰陽干的影響

- 日干屬**陽干**：從格較難成立
- 日干屬**陰干**：從格較容易成立

### 真從格 vs 假從格

從格有真假之分，真從格需嚴格符合條件，假從格則有瑕疵但仍可論從：

| 類型 | 條件 | 格局層次 |
|------|------|----------|
| **真從格** | 日元完全無根，無印比生扶，從神當令得勢 | 上等格局 |
| **假從格** | 日元有微弱餘根，或有一印比在天干無根 | 中等格局 |

#### 真從格特徵
1. 日干在四柱地支**完全無根**（無祿、無刃、無餘氣）
2. 天干無印星、比劫
3. 所從之神（財、官、食傷）**當令且透干**
4. 全局形成一面倒的態勢

#### 假從格特徵
1. 日干有**一點微根**（如餘氣根）
2. 或天干有一印比，但該印比**無根無生**
3. 從神仍佔優勢，但日元未完全棄命

> ⚠️ **注意**：假從格遇大運歲運生扶日元時，可能「出從」轉為正格，此時吉凶會有變化。

---

## 二、專旺格（一行得氣格）

> 一行得氣格，乃日元與命局全體秀氣集於一類，以一氣為用神

### 專旺格成立條件（四個條件）

1. **地支要成方或成局**
2. **月令五行為有氣之位**（月令當旺）
3. **八字內多生旺之五行（印比）**
4. **不可見剋制「專旺氣」的五行**

### 五種專旺格判斷

專旺格亦稱**方局格**，以下為五種專旺格及其命例：

| 格局 | 日主 | 地支條件 | 命例 |
|------|------|----------|------|
| **曲直格**（木專旺） | 甲、乙 | 全寅卯辰 或 亥卯未 | 甲甲甲癸 / 子辰寅卯 |
| **炎上格**（火專旺） | 丙、丁 | 全巳午未 或 寅午戌 | 乙丁庚甲 / 巳未午午 |
| **稼穡格**（土專旺） | 戊、己 | 全辰戌丑未 | 辛己丙戊 / 未丑辰戌 |
| **從革格**（金專旺） | 庚、辛 | 全申酉戌 或 巳酉丑 | 癸辛辛辛 / 巳酉丑未 |
| **潤下格**（水專旺） | 壬、癸 | 全亥子丑 或 申子辰 | 壬壬庚庚 / 亥子辰申 |

### 專旺格用神喜忌

| 格局 | 用神 | 喜神 | 忌神 |
|------|------|------|------|
| **曲直格** | 木 | 水、火 | 金 |
| **炎上格** | 火 | 木、土 | 水 |
| **稼穡格** | 土 | 火、金 | 木 |
| **從革格** | 金 | 土、水 | 火 |
| **潤下格** | 水 | 金、木 | 土 |

### 判斷邏輯

```python
def check_zhuan_wang_ge(bazi):
    day_master = bazi.day_gan
    branches = [bazi.year_zhi, bazi.month_zhi, bazi.day_zhi, bazi.hour_zhi]

    # 木專旺（曲直格）
    if day_master in ['甲', '乙']:
        wood_fang = {'寅', '卯', '辰'}  # 東方
        wood_ju = {'亥', '卯', '未'}    # 木局
        if set(branches) <= wood_fang or set(branches) <= wood_ju:
            if no_metal_in_chart(bazi):  # 無金剋制
                return '曲直格'

    # 火專旺（炎上格）
    if day_master in ['丙', '丁']:
        fire_fang = {'巳', '午', '未'}  # 南方
        fire_ju = {'寅', '午', '戌'}    # 火局
        if set(branches) <= fire_fang or set(branches) <= fire_ju:
            if no_water_in_chart(bazi):  # 無水剋制
                return '炎上格'

    # ... 類推其他三種
```

---

## 三、化氣格

> 《滴天髓》云：「化得真者只論化」

化氣是指日元與另一天干合化成另一種五行。

### 天干五合化氣

| 合化 | 化神 | 條件 |
|------|------|------|
| 甲己合 | 化**土** | 辰時為戊辰，戊土透干助化 |
| 乙庚合 | 化**金** | 辰時為庚辰，庚金透干助化 |
| 丙辛合 | 化**水** | 辰時為壬辰，壬水透干助化 |
| 丁壬合 | 化**木** | 辰時為甲辰，甲木透干助化 |
| 戊癸合 | 化**火** | 辰時為丙辰，丙火透干助化 |

### 化氣格成立條件（四個條件）

1. **當令方可化**（化神在月令得氣）
2. **天干沒有比劫爭合或妒合**（否則屬假化，格局減低）
3. **要無剋制「化神」的五行方可**
4. **原局多生扶所化之神**

### 化氣格用神喜忌

| 化格 | 用神 | 喜神 | 忌神（逆旺） |
|------|------|------|-------------|
| **化木格** | 木 | 水、火 | 金 |
| **化火格** | 火 | 木、土 | 水 |
| **化土格** | 土 | 火、金 | 木 |
| **化金格** | 金 | 土、水 | 火 |
| **化水格** | 水 | 金、木 | 土 |

### 辰時助化

俗云「逢龍而化」，說辰時出生的人容易成為化氣格，因為天干有助化氣。

### 真化 vs 假化

化氣格亦有真假之分：

| 類型 | 條件 | 格局層次 |
|------|------|----------|
| **真化** | 化神當令，無妒合爭合，無剋神 | 上等格局 |
| **假化** | 化神不當令，或有妒合，或有剋神 | 中等格局 |

#### 妒合（爭合）
當天干有兩個相同的干爭著與另一干相合時，稱為**妒合**或**爭合**。例如：
- 兩甲爭一己（甲己合）
- 兩乙爭一庚（乙庚合）

妒合會導致：
1. 合而不化（無法成功化氣）
2. 即使化了也是假化，格局降低

#### 真化條件
1. 日干與**月干**或**時干**相合
2. 化神在**月令當旺**
3. 天干無同類爭合（無妒合）
4. 地支無剋制化神的五行
5. 全局多生扶化神的五行

---

## 四、兩神成象格

> 兩神者，是兩類五行，八字中只有兩類五行分布其中

### 成立條件

- 八字中只有**兩種五行**
- 兩者的五行就算不是勢均力敵，都要求**強度相約**，不可相差太遠

### 兩種類型

#### 4.1 兩神相成格（相剋格）

兩種五行互相剋制，需要**通關**用神。

| 格局 | 用神（通關） | 忌神 |
|------|-------------|------|
| 木土相成格 | 火 | 金劈木 |
| 土水相成格 | 金 | 木制土 |
| 水火相成格 | 木 | 土剋水 |
| 火金相成格 | 土 | 水剋火 |
| 金木相成格 | 水 | 火剋金 |

> **通關**：使兩者不再相剋的五行。例如木土相剋，木見火再見土，則木可生火，而火再生土，這是「貪生忘剋」的道理。

#### 4.2 兩神相生格

兩種五行互相生助，用神為**洩耗旺神**。

| 格局 | 用神 | 忌神（逆旺） |
|------|------|-------------|
| 木火相生格 | 土（洩火旺氣） | 金水 |
| 火土相生格 | 金（洩土旺氣） | 水木 |
| 土金相生格 | 水（洩金旺氣） | 木火 |
| 金水相生格 | 木（洩水旺氣） | 火土 |
| 水木相生格 | 火（洩木旺氣） | 土金 |

---

## 五、暗沖格

暗沖格又名**暗沖官格**，以「虛神」為富貴之神，虛神即是「暗官」。

### 暗沖格成立條件

1. **八字無正官**
2. **最少要有三個相關的地支沖出一暗官**

### 三種暗沖格

#### 5.1 倒沖祿馬格

| 日柱 | 地支條件 | 暗沖目標 |
|------|----------|----------|
| **丙午日** | 支有三午或以上 | 沖出子中癸水正官 |
| **丁巳日** | 支有三巳或以上 | 沖出亥中壬水正官 |

#### 5.2 飛天祿馬格

| 日柱 | 地支條件 | 暗沖目標 |
|------|----------|----------|
| **庚子日** | 支有三子或以上 | 沖出午中丁火正官 |
| **壬子日** | 支有三子或以上 | 沖出午中己土正官 |
| **辛亥日** | 支有三亥或以上 | 沖出巳中丙火正官 |
| **癸亥日** | 支有三亥或以上 | 沖出巳中戊土正官 |

#### 5.3 井欄叉格

| 日柱 | 地支條件 | 暗沖目標 |
|------|----------|----------|
| **庚日**（只取庚日干） | 地支見齊申子辰 | 暗沖寅午戌火（午中丁火正官） |

### 暗沖官格喜忌

| 日柱 | 喜 | 忌 |
|------|-----|-----|
| 丙午日 | 申來合起「子官」 | 癸年運、子年運 |
| 丁巳日 | 寅及卯來合起「壬官」 | 壬、亥年運 |
| 庚子日 | 寅來合起「午官」 | 丁、午年運 |
| 壬子日 | 寅來合起「午中己官」 | 己、未、午年運 |
| 辛亥日 | 申、酉合起「巳官」 | 丙、巳年運 |
| 癸亥日 | 酉合起「巳中戊官」 | 戊、巳、戊年運 |

> ⚠️ **填實**：原局不見之虛神，但大運流年行此之虛神，便稱為填實。暗沖格最忌填實。

---

## 六、暗合格

暗合格全名為「**暗合官格**」，亦是以虛神為用，形式只是將沖出暗官的方法改為**合出暗官**的方法。

### 暗合格成立條件

1. **八字無正官**
2. **最少要有三個地支或以上，暗合出官星**

### 暗合格日柱

| 日柱 | 地支條件 | 暗合目標 |
|------|----------|----------|
| **甲辰日** | 支有三辰或以上 | 辰合「酉中辛官」 |
| **戊戌日** | 支有三戌或以上 | 戌合「卯中乙官」 |
| **癸卯日** | 支有三卯或以上 | 卯合「戌中戊官」 |
| **癸酉日** | 支有三酉或以上 | 酉合「辰中戊官」 |

> ⚠️ 以上合法是以「**六合**」法為主，不能以半合法（三合局其中二支相合）來論。

### 暗合官格喜忌

| 日柱 | 喜 | 最忌 | 次忌 |
|------|-----|------|------|
| 甲辰日 | 辰助合 | 酉填實 | 戌沖辰 |
| 戊戌日 | 戌助合 | 卯填實 | 辰沖戌 |
| 癸卯日 | 卯助合 | 戌填實 | 酉沖卯 |
| 癸酉日 | 酉助合 | 辰填實 | 卯沖酉 |

---

## 七、判斷優先級

判斷特殊格局的順序：

```
1. 先檢查是否為「從格」（日元極弱）
2. 再檢查是否為「專旺格」（日元極強，一氣獨旺）
3. 再檢查是否為「化氣格」（天干合化成功）
4. 再檢查是否為「兩神成象格」（只有兩種五行）
5. 再檢查是否為「暗沖格」（虛邀暗官）
6. 再檢查是否為「暗合格」（暗合官星）
7. 以上都不符合 → 正格論命
```

---

## 八、代碼實現要點

### 數據結構

```python
@dataclass
class SpecialPattern:
    """特殊格局結果"""
    pattern_type: str          # 格局類型
    pattern_name: str          # 格局名稱（如：曲直格）
    yong_shen: WuXing          # 用神
    xi_shen: List[WuXing]      # 喜神
    ji_shen: List[WuXing]      # 忌神
    description: str           # 說明
    confidence: float          # 信心度 0-1
```

### 檢測函數

```python
def detect_special_pattern(bazi: BaZi) -> Optional[SpecialPattern]:
    """
    檢測八字是否為特殊格局

    Returns:
        SpecialPattern if detected, None if 正格
    """
    # 1. 檢查從格
    if result := check_cong_ge(bazi):
        return result

    # 2. 檢查專旺格
    if result := check_zhuan_wang_ge(bazi):
        return result

    # 3. 檢查化氣格
    if result := check_hua_qi_ge(bazi):
        return result

    # 4. 檢查兩神成象格
    if result := check_liang_shen_ge(bazi):
        return result

    # 5. 檢查暗沖格
    if result := check_an_chong_ge(bazi):
        return result

    # 6. 檢查暗合格
    if result := check_an_he_ge(bazi):
        return result

    return None  # 正格
```

---

## 參考

- 本文整理自《變格取用神法》講義
- 八字命例若不入於本章格局者，便作正常格局取用神論
