---
title: äº§å“æ„¿æ™¯
description: MyFate äº§å“è®¾è®¡æ–‡æ¡£
---

# MyFate Product Vision & Design Document

> **Version**: 1.0
> **Last Updated**: 2026-02-01
> **Status**: Planning Phase

---

## Executive Summary

Transform MyFate from a traditional form-based BaZi calculator into an **AI-centric conversational destiny platform** that combines ancient Chinese metaphysics with modern AI interaction patterns.

**Core Philosophy**: *"Your destiny, understood through conversation"*

---

## Table of Contents

1. [Product Vision](#1-product-vision)
2. [Target Users](#2-target-users)
3. [Core Features](#3-core-features)
4. [UI/UX Design](#4-uiux-design)
5. [AI Capabilities](#5-ai-capabilities)
6. [Feature Modules](#6-feature-modules)
7. [Technical Architecture](#7-technical-architecture)
8. [Implementation Roadmap](#8-implementation-roadmap)

---

## 1. Product Vision

### 1.1 The Problem

Traditional BaZi apps suffer from:
- **Information overload**: Users see charts but don't understand them
- **No guidance**: Raw data without interpretation
- **Static experience**: Calculate once, no ongoing engagement
- **Steep learning curve**: Requires metaphysics knowledge

### 1.2 Our Solution

An AI-powered conversational interface that:
- **Explains as it shows**: Every chart element is explainable
- **Guides exploration**: AI suggests what to ask next
- **Living analysis**: Revisit for daily/yearly updates
- **Zero learning curve**: Just chat naturally

### 1.3 Unique Value Proposition

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   "Ask anything about your destiny.                        â”‚
â”‚    See it visualized. Understand it deeply."               â”‚
â”‚                                                             â”‚
â”‚   å…«å­— Â· å¡”ç½— Â· å åœ Â· æ‰‹ç›¸ Â· é¢ç›¸                           â”‚
â”‚   All through one AI-powered conversation.                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Target Users

### 2.1 Primary Personas

| Persona | Description | Needs |
|---------|-------------|-------|
| **å°ç™½ç”¨æˆ·** | Curious about destiny, no background | Simple explanations, guidance |
| **å‘½ç†çˆ±å¥½è€…** | Hobbyist, knows basics | Deeper analysis, technical details |
| **ä¸“ä¸šå‘½ç†å¸ˆ** | Professional practitioner | Calculation tools, client reports |

### 2.2 User Journey

```
Discovery â†’ First Analysis â†’ "Aha!" Moment â†’ Regular Check-ins â†’ Share/Refer
    â”‚              â”‚               â”‚                â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            AI guides each step
```

---

## 3. Core Features

### 3.1 Feature Overview

| Feature | Priority | Description |
|---------|----------|-------------|
| å…«å­—å‘½ç›˜åˆ†æ | P0 | Core BaZi chart with AI interpretation |
| å‘½è¿Kçº¿å›¾ | P0 | Life fortune timeline visualization |
| AI å¯¹è¯åˆ†æ | P0 | Conversational analysis interface |
| å¡”ç½—å åœ | P1 | AI-guided tarot card reading |
| æ‰‹ç›¸åˆ†æ | P1 | Palm reading via camera/upload |
| é¢ç›¸åˆ†æ | P2 | Face reading via camera/upload |
| æ¯æ—¥è¿åŠ¿ | P1 | Daily fortune based on å…«å­— + æµå¹´ |
| åˆå©šé…å¯¹ | P1 | Compatibility analysis for couples |
| æ‹©æ—¥æ‹©æ—¶ | P2 | Auspicious date/time selection |

### 3.2 Feature Matrix by Platform

| Feature | Desktop | Mobile | API |
|---------|---------|--------|-----|
| å…«å­—åˆ†æ | Full dashboard | Cards in chat | âœ“ |
| Kçº¿å›¾ | Interactive | Mini + full view | âœ“ |
| å¡”ç½—å åœ | Side panel | Full screen | âœ“ |
| æ‰‹ç›¸åˆ†æ | Upload | Camera + Upload | âœ“ |
| é¢ç›¸åˆ†æ | Upload | Camera + Upload | âœ“ |

---

## 4. UI/UX Design

### 4.1 Design Philosophy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Design Principles                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. MINIMALIST BUT WARM                                     â”‚
â”‚     Clean interfaces with cultural warmth                   â”‚
â”‚     äº”è¡Œ colors as subtle accents                           â”‚
â”‚                                                             â”‚
â”‚  2. PROGRESSIVE DISCLOSURE                                  â”‚
â”‚     Show summary first, details on demand                   â”‚
â”‚     AI guides deeper exploration                            â”‚
â”‚                                                             â”‚
â”‚  3. CONVERSATION-FIRST                                      â”‚
â”‚     Chat is the primary interface                           â”‚
â”‚     Visualizations serve the conversation                   â”‚
â”‚                                                             â”‚
â”‚  4. RESPONSIVE & ADAPTIVE                                   â”‚
â”‚     Desktop: Dashboard + Chat                               â”‚
â”‚     Mobile: Chat with inline cards                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Color System

```
äº”è¡Œé…è‰² (Five Elements Palette)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æœ¨ Wood   #22c55e  â–ˆâ–ˆâ–ˆâ–ˆ  Growth, Career
ç« Fire   #ef4444  â–ˆâ–ˆâ–ˆâ–ˆ  Passion, Fame
åœŸ Earth  #eab308  â–ˆâ–ˆâ–ˆâ–ˆ  Stability, Wealth
é‡‘ Metal  #a1a1aa  â–ˆâ–ˆâ–ˆâ–ˆ  Precision, Health
æ°´ Water  #3b82f6  â–ˆâ–ˆâ–ˆâ–ˆ  Wisdom, Relationships

UI Colors
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Background    #faf9f7  Warm off-white
Surface       #ffffff  Pure white cards
Text Primary  #1a1a1a  Near black
Text Secondary #6b7280 Muted gray
Accent        #6366f1  Indigo (interactive)
Success       #10b981  Green
Warning       #f59e0b  Amber
Error         #ef4444  Red
```

### 4.3 Typography

```
ä¸­æ–‡å­—ä½“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ ‡é¢˜: Noto Serif SC (å®‹ä½“é£æ ¼ï¼Œå…¸é›…)
æ­£æ–‡: Noto Sans SC (é»‘ä½“ï¼Œæ¸…æ™°)
æ•°å­—: Inter (ç°ä»£ï¼Œç­‰å®½æ•°å­—)

Font Scale
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
xs:   12px  è¾…åŠ©è¯´æ˜
sm:   14px  æ­£æ–‡ã€å¡ç‰‡å†…å®¹
base: 16px  ä¸»è¦æ­£æ–‡
lg:   18px  å°æ ‡é¢˜
xl:   20px  å¡ç‰‡æ ‡é¢˜
2xl:  24px  é¡µé¢æ ‡é¢˜
3xl:  30px  ä¸»æ ‡é¢˜
```

### 4.4 Desktop Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MyFate                                              [Docs] [â˜€] [EN] [ğŸ‘¤] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  AI å‘½ç†åˆ†æå¸ˆ                       â”‚
â”‚  â”‚         å…«å­—å‘½ç›˜              â”‚  â”‚                                     â”‚
â”‚  â”‚    å¹´æŸ±   æœˆæŸ±   æ—¥æŸ±   æ—¶æŸ±   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    åºšåˆ   è¾›å·³   ç”²å­   æˆŠè¾°   â”‚  â”‚  â”‚ ğŸ¤– æ‚¨å¥½ï¼æˆ‘å·²åˆ†ææ‚¨çš„å‘½ç›˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚    æœ‰ä»€ä¹ˆæƒ³äº†è§£çš„ï¼Ÿ          â”‚   â”‚
â”‚                                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚  â”‚         äº”è¡ŒåŠ›é‡              â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æœ¨ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 40%           â”‚  â”‚  â”‚ ğŸ‘¤ æˆ‘çš„è´¢è¿å¦‚ä½•ï¼Ÿ            â”‚   â”‚
â”‚  â”‚  ç« â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 50%  â† æ—º     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚  åœŸ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 20%           â”‚  â”‚                                     â”‚
â”‚  â”‚  é‡‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 30%           â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ°´ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 20%  â† å¼±     â”‚  â”‚  â”‚ ğŸ¤– æ ¹æ®æ‚¨çš„å…«å­—åˆ†æï¼š        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                               â”‚   â”‚
â”‚                                    â”‚  â”‚    æ‚¨çš„è´¢æ˜Ÿæ˜¯åœŸï¼Œå‘½å±€ç«æ—º     â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚    ç”ŸåœŸï¼Œè´¢æºä¸ç¼ºä½†éœ€å®ˆè´¢ã€‚   â”‚   â”‚
â”‚  â”‚         å‘½è¿Kçº¿               â”‚  â”‚  â”‚                               â”‚   â”‚
â”‚  â”‚   100â”¤      â•­â”€â”€â•®             â”‚  â”‚  â”‚    ğŸ“Š å‚è€ƒå·¦ä¾§ã€Œå‘½è¿Kçº¿ã€    â”‚   â”‚
â”‚  â”‚    50â”¤  â•­â”€â”€â•¯  â•°â”€â”€â•®          â”‚  â”‚  â”‚    45-55å²è´¢è¿æœ€æ—º          â”‚   â”‚
â”‚  â”‚     0â”¤â”€â”€â•¯        â•°â”€â”€        â”‚  â”‚  â”‚                               â”‚   â”‚
â”‚  â”‚      â””â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€    â”‚  â”‚  â”‚ [è¯¦ç»†åˆ†æ] [é—®å…¶ä»–]          â”‚   â”‚
â”‚  â”‚      25   35   45   55      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚                                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚  â”‚         ç¥ç…é€Ÿè§ˆ              â”‚  â”‚  [è´¢è¿] [äº‹ä¸š] [æ„Ÿæƒ…] [å¥åº·] [æµå¹´]  â”‚
â”‚  â”‚  âœ¨è´µäºº  ğŸ“šæ–‡æ˜Œ  âš¡é©¿é©¬  ğŸ”¥ç¾Šåˆƒ â”‚  â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                    â”‚  â”‚ è¾“å…¥é—®é¢˜...           [å‘é€] â”‚   â”‚
â”‚  [æŠ½å¡”ç½—] [çœ‹æ‰‹ç›¸] [ä»Šæ—¥è¿åŠ¿]       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 Mobile Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MyFate          [â‰¡] [ğŸ‘¤]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  ğŸ¤– æ‚¨å¥½ï¼è¯·è¾“å…¥å‡ºç”Ÿä¿¡æ¯  â”‚
â”‚                         â”‚
â”‚  ğŸ‘¤ 1990å¹´5æœˆ15æ—¥æ—©8ç‚¹   â”‚
â”‚                         â”‚
â”‚  ğŸ¤– å¥½çš„ï¼Œæ‚¨çš„å…«å­—ï¼š     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å…«å­—: åºšåˆè¾›å·³ç”²å­æˆŠè¾°â”‚â”‚
â”‚  â”‚ æ—¥ä¸»: ç”²æœ¨ èº«å¼±      â”‚â”‚
â”‚  â”‚ [å±•å¼€å®Œæ•´å‘½ç›˜]       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                         â”‚
â”‚  ğŸ‘¤ æˆ‘çš„è´¢è¿å¦‚ä½•ï¼Ÿ       â”‚
â”‚                         â”‚
â”‚  ğŸ¤– ä»å‘½ç›˜åˆ†æï¼š        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ˆ è´¢è¿Kçº¿           â”‚â”‚
â”‚  â”‚   â•­â”€â”€â•®              â”‚â”‚
â”‚  â”‚ â”€â•¯  â•°â”€             â”‚â”‚
â”‚  â”‚ 35  45  55         â”‚â”‚
â”‚  â”‚ â—45å²è´¢è¿å·…å³°       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚     45-55å²æ˜¯æ‚¨è´¢è¿     â”‚
â”‚     æœ€æ—ºçš„æ—¶æœŸ...       â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å‘½ç›˜][Kçº¿][å¡”ç½—][æ‰‹ç›¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é—®é—®ä½ çš„å‘½è¿...  [å‘é€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 Key UI Components

#### 4.6.1 å…«å­—å‘½ç›˜å¡ç‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…«å­—å‘½ç›˜                                        [å±•å¼€è¯¦æƒ…]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚        å¹´æŸ±        æœˆæŸ±        æ—¥æŸ±        æ—¶æŸ±              â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚  å¤©å¹² â”‚  åºš  â”‚    â”‚  è¾›  â”‚    â”‚  ç”²  â”‚    â”‚  æˆŠ  â”‚            â”‚
â”‚      â”‚ é‡‘   â”‚    â”‚ é‡‘   â”‚    â”‚ æœ¨   â”‚    â”‚ åœŸ   â”‚            â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”¤            â”‚
â”‚  åœ°æ”¯ â”‚  åˆ  â”‚    â”‚  å·³  â”‚    â”‚  å­  â”‚    â”‚  è¾°  â”‚            â”‚
â”‚      â”‚ ç«   â”‚    â”‚ ç«   â”‚    â”‚ æ°´   â”‚    â”‚ åœŸ   â”‚            â”‚
â”‚      â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                             â”‚
â”‚  åç¥: åå®˜      ä¸ƒæ€      æ—¥ä¸»      åè´¢                    â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—¥ä¸»: ç”²æœ¨  â”‚  èº«å¼º/å¼±: èº«å¼±  â”‚  ç”¨ç¥: æ°´æœ¨  â”‚  å¿Œç¥: ç«åœŸ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.6.2 å‘½è¿Kçº¿å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘½è¿Kçº¿                        [æ€»è¿][è´¢è¿][äº‹ä¸š][æ„Ÿæƒ…][å¥åº·] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  100 â”¤                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â•®                        â”‚
â”‚      â”‚               â•­â”€â”€â”€â•¯        â•°â”€â”€â”€â•®                    â”‚
â”‚   75 â”¤          â•­â”€â”€â”€â•¯                  â•°â”€â”€â”€â•®               â”‚
â”‚      â”‚     â•­â”€â”€â”€â•¯                            â•°â”€â”€â”€â•®          â”‚
â”‚   50 â”¤â”€â”€â”€â”€â•¯                                      â•°â”€â”€â”€      â”‚
â”‚      â”‚                                           NOW       â”‚
â”‚   25 â”¤                                            â”‚        â”‚
â”‚      â”‚                                            â–¼        â”‚
â”‚    0 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€    â”‚
â”‚            15     25     35     45     55     65     75    â”‚
â”‚                                                             â”‚
â”‚        â”â” æ€»è¿  â”â” è´¢è¿  â”â” äº‹ä¸š  â”â” æ„Ÿæƒ…                    â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ å½“å‰: 35å² å£¬ç”³å¤§è¿ â”‚ è¿åŠ¿è¯„åˆ†: 68/100 â”‚ è¶‹åŠ¿: â†‘ ä¸Šå‡    â”‚
â”‚  ğŸ¯ å·…å³°: 48å² ç™¸é…‰å¤§è¿ â”‚ é¢„è®¡è¯„åˆ†: 92/100                   â”‚
â”‚  âš ï¸ ä½è°·: 62å² ç”²æˆŒå¤§è¿ â”‚ éœ€æ³¨æ„: å¥åº·                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.6.3 äº”è¡ŒåŠ›é‡å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº”è¡ŒåŠ›é‡åˆ†æ                 [æ¡å½¢][é›·è¾¾] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  æœ¨ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 35%           â”‚
â”‚  ç« â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 68%  æ—º â—     â”‚
â”‚  åœŸ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 42%           â”‚
â”‚  é‡‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 32%           â”‚
â”‚  æ°´ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 18%  å¼± â—‹     â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨ç¥: æ°´æœ¨ (éœ€è¦è¡¥å……)                   â”‚
â”‚  å¿Œç¥: ç«åœŸ (éœ€è¦å…‹åˆ¶)                   â”‚
â”‚  è°ƒå€™: éœ€è¦æ°´æ¥è°ƒèŠ‚ç«æ—º                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.6.4 ç¥ç…å¡ç‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¥ç…é€Ÿè§ˆ                                        [æŸ¥çœ‹å…¨éƒ¨]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å‰ç¥                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ âœ¨ å¤©ä¹™è´µäºº â”‚ â”‚ ğŸ“š æ–‡æ˜Œæ˜Ÿ  â”‚ â”‚ ğŸŒŸ å¤©å¾·è´µäºº â”‚ â”‚ ğŸ’° é‡‘èˆ†   â”‚      â”‚
â”‚  â”‚  è´µäººç›¸åŠ©   â”‚ â”‚  å­¦ä¸šæœ‰æˆ   â”‚ â”‚  é€¢å‡¶åŒ–å‰   â”‚ â”‚  è´¢ç¦„ä¸°åš  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚  å‡¶ç…                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ ğŸ”¥ ç¾Šåˆƒ    â”‚ â”‚ ğŸ’€ å­¤è¾°    â”‚                                 â”‚
â”‚  â”‚  æ€§æ€¥æ˜“æ€’   â”‚ â”‚  å­¤ç‹¬ä¹‹è±¡   â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                             â”‚
â”‚  â„¹ï¸ ç‚¹å‡»ä»»æ„ç¥ç…ï¼ŒAIä¸ºæ‚¨è¯¦ç»†è§£è¯»                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. AI Capabilities

### 5.1 AI Interaction Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI Capabilities                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  UNDERSTAND                                                 â”‚
â”‚  â”œâ”€ Parse natural language birth info                      â”‚
â”‚  â”œâ”€ Understand follow-up questions                         â”‚
â”‚  â””â”€ Context-aware responses                                â”‚
â”‚                                                             â”‚
â”‚  ANALYZE                                                    â”‚
â”‚  â”œâ”€ Interpret å…«å­— chart elements                          â”‚
â”‚  â”œâ”€ Calculate fortune periods                              â”‚
â”‚  â””â”€ Generate personalized insights                         â”‚
â”‚                                                             â”‚
â”‚  VISUALIZE (Tool Calls)                                    â”‚
â”‚  â”œâ”€ Render charts and cards in chat                        â”‚
â”‚  â”œâ”€ Highlight relevant elements                            â”‚
â”‚  â””â”€ Update dashboard dynamically                           â”‚
â”‚                                                             â”‚
â”‚  GUIDE                                                      â”‚
â”‚  â”œâ”€ Suggest what to explore next                           â”‚
â”‚  â”œâ”€ Explain complex concepts simply                        â”‚
â”‚  â””â”€ Provide actionable advice                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 AI Tool Calls (MCP-Style)

The AI can call tools to render visualizations and control the UI:

```typescript
// Available AI Tools
interface AITools {
  // ===== å¯è§†åŒ–å·¥å…· =====

  // æ¸²æŸ“å…«å­—å‘½ç›˜
  render_bazi_card(params: {
    highlight_pillars?: ('year' | 'month' | 'day' | 'hour')[];
    show_shishen?: boolean;      // æ˜¾ç¤ºåç¥
    show_canggan?: boolean;      // æ˜¾ç¤ºè—å¹²
    show_nayin?: boolean;        // æ˜¾ç¤ºçº³éŸ³
    expanded?: boolean;          // å±•å¼€è¯¦æƒ…
  }): void;

  // æ¸²æŸ“å‘½è¿Kçº¿
  render_kline(params: {
    type: 'total' | 'wealth' | 'career' | 'love' | 'health';
    highlight_period?: [number, number];  // é«˜äº®å¹´é¾„èŒƒå›´
    markers?: Array<{
      age: number;
      label: string;
      type: 'peak' | 'low' | 'event' | 'now';
    }>;
    zoom_level?: 'dayun' | 'liunian';  // å¤§è¿/æµå¹´è§†å›¾
  }): void;

  // æ¸²æŸ“äº”è¡Œå›¾
  render_wuxing(params: {
    chart_type: 'bar' | 'radar' | 'pie';
    highlight_elements?: WuXing[];
    show_yongshen?: boolean;     // æ˜¾ç¤ºç”¨ç¥å¿Œç¥
    animated?: boolean;
  }): void;

  // æ¸²æŸ“ç¥ç…å¡ç‰‡
  render_shensha(params: {
    filter?: 'all' | 'auspicious' | 'inauspicious';
    highlight?: string[];        // é«˜äº®ç‰¹å®šç¥ç…
    auto_expand?: string;        // è‡ªåŠ¨å±•å¼€æŸä¸ªç¥ç…
  }): void;

  // ===== äº’åŠ¨å·¥å…· =====

  // æŠ½å¡”ç½—ç‰Œ
  draw_tarot(params: {
    spread: 'single' | 'three' | 'celtic_cross';
    question?: string;
    reveal_delay?: number;       // æ­ç‰Œå»¶è¿Ÿ(ms)
  }): TarotReading;

  // åˆ†ææ‰‹ç›¸
  analyze_palm(params: {
    image_url: string;
    analysis_type: 'full' | 'love' | 'career' | 'health';
  }): PalmReading;

  // åˆ†æé¢ç›¸
  analyze_face(params: {
    image_url: string;
    analysis_type: 'full' | 'personality' | 'fortune';
  }): FaceReading;

  // ===== UIæ§åˆ¶å·¥å…· =====

  // é«˜äº®é¢æ¿å…ƒç´  (æ¡Œé¢ç‰ˆ)
  highlight_panel(params: {
    section: 'bazi' | 'wuxing' | 'kline' | 'shensha';
    element?: string;
    duration?: number;           // é«˜äº®æŒç»­æ—¶é—´(ms)
    scroll_to?: boolean;         // æ˜¯å¦æ»šåŠ¨åˆ°è¯¥å…ƒç´ 
  }): void;

  // æ˜¾ç¤ºå¿«æ·æ“ä½œ
  show_quick_actions(params: {
    actions: Array<{
      label: string;
      action: string;            // ç‚¹å‡»åå‘é€çš„æ¶ˆæ¯
      icon?: string;
    }>;
  }): void;

  // è¯·æ±‚ç”¨æˆ·è¾“å…¥
  request_input(params: {
    type: 'text' | 'date' | 'time' | 'image' | 'choice';
    prompt: string;
    options?: string[];          // for choice type
    required?: boolean;
  }): void;
}
```

### 5.3 AI Context Injection

Every AI request includes user's analysis data:

```typescript
interface AIContext {
  // ç”¨æˆ·å…«å­—æ•°æ®
  bazi: {
    pillars: {
      year: GanZhi;
      month: GanZhi;
      day: GanZhi;
      hour: GanZhi;
    };
    dayMaster: TianGan;
    dayMasterStrength: 'strong' | 'weak' | 'balanced';
    yongShen: WuXing[];          // ç”¨ç¥
    jiShen: WuXing[];            // å¿Œç¥
  };

  // äº”è¡Œåˆ†æ
  wuxing: {
    wood: number;   // 0-100
    fire: number;
    earth: number;
    metal: number;
    water: number;
  };

  // ç¥ç…
  shensha: {
    auspicious: string[];
    inauspicious: string[];
  };

  // å¤§è¿æµå¹´
  fortune: {
    currentDayun: DaYun;
    currentLiunian: LiuNian;
    upcomingPeriods: DaYun[];
  };

  // å½“å‰æ˜¾ç¤ºçŠ¶æ€ (ç”¨äºå¼•ç”¨)
  currentView: {
    activePanel: string;
    klineType: string;
    expandedCards: string[];
  };
}
```

### 5.4 Example AI Conversation

```
ğŸ‘¤ æˆ‘1990å¹´5æœˆ15æ—¥æ—©ä¸Š8ç‚¹å‡ºç”Ÿï¼Œç”·çš„

ğŸ¤– å¥½çš„ï¼Œæˆ‘æ¥å¸®æ‚¨åˆ†æå…«å­—å‘½ç›˜ã€‚

   [AI calls: render_bazi_card({ expanded: true })]

   æ‚¨çš„å…«å­—æ˜¯ï¼šåºšåˆå¹´ è¾›å·³æœˆ ç”²å­æ—¥ æˆŠè¾°æ—¶

   æ—¥ä¸»ç”²æœ¨ï¼Œç”Ÿäºå·³æœˆç«æ—ºä¹‹æ—¶ï¼Œ
   åœ°æ”¯åˆå·³çš†ç«ï¼Œç«åŠ¿è¿‡æ—ºï¼Œæœ¨è¢«ç«æ³„ï¼Œ
   æ‰€ä»¥æ‚¨æ˜¯ã€Œèº«å¼±ã€çš„å‘½æ ¼ã€‚

   ç”¨ç¥ä¸ºæ°´æœ¨ï¼Œå–œè§å£¬ç™¸ç”²ä¹™ä¹‹å¹´è¿ã€‚

   æƒ³äº†è§£å“ªæ–¹é¢ï¼Ÿ

   [è´¢è¿åˆ†æ] [äº‹ä¸šå‘å±•] [æ„Ÿæƒ…å©šå§»] [å¥åº·çŠ¶å†µ]

ğŸ‘¤ æˆ‘çš„è´¢è¿å¦‚ä½•ï¼Ÿ

ğŸ¤– ä»æ‚¨çš„å…«å­—åˆ†æè´¢è¿ï¼š

   [AI calls: render_kline({ type: 'wealth', highlight_period: [45, 55] })]
   [AI calls: highlight_panel({ section: 'wuxing', element: 'earth' })]

   æ‚¨çš„è´¢æ˜Ÿæ˜¯åœŸï¼ˆæˆŠå·±åœŸï¼‰ï¼Œåœ¨å‘½å±€ä¸­çš„æƒ…å†µï¼š

   â€¢ æ­£è´¢å·±åœŸï¼šè—äºå¹´æ”¯åˆç«ä¸­
   â€¢ åè´¢æˆŠåœŸï¼šé€äºæ—¶å¹²ï¼Œåè¾°åœŸæ ¹

   è¿™æ˜¯ã€Œåè´¢æ ¼ã€çš„å‘½å±€ï¼Œç‰¹ç‚¹æ˜¯ï¼š
   âœ“ å–„äºæŠŠæ¡æŠ•æœºæœºä¼š
   âœ“ è´¢æ¥è´¢å»ï¼ŒæµåŠ¨æ€§å¼º
   âœ“ éœ€è¦æ³¨æ„å®ˆè´¢

   ğŸ“ˆ ä»å‘½è¿Kçº¿çœ‹ï¼Œ45-55å²ï¼ˆç™¸é…‰å¤§è¿ï¼‰æ˜¯æ‚¨è´¢è¿æœ€æ—ºçš„æ—¶æœŸï¼Œ
   å› ä¸ºç™¸æ°´ç”ŸåŠ©æ—¥ä¸»ç”²æœ¨ï¼Œèº«æ—ºèƒ½æ‹…è´¢ã€‚

   ğŸ’¡ å»ºè®®ï¼š
   â€¢ å£¬ç™¸å¹´ï¼ˆå¦‚2032ã€2033ï¼‰é€‚åˆæŠ•èµ„
   â€¢ é¿å…ä¸å±é¼ äººåˆä¼™ï¼ˆå­åˆç›¸å†²ï¼‰
   â€¢ åŠå…¬æ¡Œæœå‘åŒ—æ–¹æˆ–ä¸œæ–¹æœ‰åˆ©

   [ä»Šå¹´è´¢è¿?] [é€‚åˆä»€ä¹ˆè¡Œä¸š?] [å¦‚ä½•å¢å¼ºè´¢è¿?]

ğŸ‘¤ å¸®æˆ‘æŠ½ä¸€å¼ å¡”ç½—ç‰Œçœ‹çœ‹

ğŸ¤– å¥½çš„ï¼Œè¯·åœ¨å¿ƒä¸­é»˜å¿µæ‚¨æƒ³é—®çš„é—®é¢˜ï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹æŠ½ç‰Œã€‚

   [AI calls: draw_tarot({ spread: 'single', reveal_delay: 1500 })]

   ğŸ´ æ­£åœ¨æ´—ç‰Œ...

   [æ˜¾ç¤ºç‰ŒèƒŒåŠ¨ç”»]

   æ‚¨æŠ½åˆ°çš„æ˜¯ï¼šã€å‘½è¿ä¹‹è½® The Wheel of Fortuneã€‘æ­£ä½

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                     â”‚
   â”‚    ğŸ¡ å‘½è¿ä¹‹è½®       â”‚
   â”‚    The Wheel        â”‚
   â”‚    of Fortune       â”‚
   â”‚                     â”‚
   â”‚       æ­£ä½          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   è¿™å¼ ç‰Œçš„å«ä¹‰ï¼š

   å‘½è¿ä¹‹è½®ä»£è¡¨äººç”Ÿçš„èµ·ä¼ä¸å¾ªç¯ã€‚æ­£ä½å‡ºç°è¡¨ç¤ºï¼š
   â€¢ å¥½è¿å³å°†æ¥ä¸´
   â€¢ äº‹æƒ…æ­£åœ¨å‘å¥½çš„æ–¹å‘è½¬å˜
   â€¢ æŠŠæ¡ä½å³å°†åˆ°æ¥çš„æœºä¼š

   ç»“åˆæ‚¨çš„å…«å­—æ¥çœ‹ï¼Œç›®å‰æ‚¨å¤„äºå£¬ç”³å¤§è¿ï¼Œ
   æ­£æ˜¯è¿åŠ¿ä¸Šå‡æœŸï¼Œè¿™å¼ ç‰Œå°è¯äº†è¿™ä¸€ç‚¹ã€‚

   å»ºè®®é¡ºåŠ¿è€Œä¸ºï¼ŒæŠ“ä½2026å¹´çš„æœºé‡ï¼

   [å†æŠ½ä¸€å¼ ] [ä¸‰å¼ ç‰Œé˜µ] [è¿”å›å…«å­—åˆ†æ]
```

---

## 6. Feature Modules

### 6.1 å…«å­—å‘½ç›˜åˆ†æ (Core)

**Description**: The foundational feature - calculate and analyze BaZi chart

**Components**:
- Birth info input (natural language or form)
- Four Pillars display
- Five Elements analysis
- Ten Gods (åç¥) relationships
- Day Master strength assessment

**AI Capabilities**:
- Parse birth info from natural language
- Explain any element on click
- Provide personalized interpretation

---

### 6.2 å‘½è¿Kçº¿å›¾ (Life Fortune Chart)

**Description**: Visualize life fortune as a timeline chart (like stock K-line)

**Components**:
- X-axis: Age (0-100)
- Y-axis: Fortune score (0-100)
- Multiple lines: Total, Wealth, Career, Love, Health
- Markers: Current age, peaks, lows, events
- Zoom levels: å¤§è¿ (decade), æµå¹´ (year)

**AI Capabilities**:
- Highlight specific periods when discussing
- Explain why certain periods are high/low
- Predict upcoming trends

**Calculation Logic**:
```
Fortune Score = f(
  å¤§è¿å¤©å¹²ä¸æ—¥ä¸»å…³ç³»,
  å¤§è¿åœ°æ”¯ä¸å‘½å±€å…³ç³»,
  æµå¹´å¹²æ”¯å½±å“,
  ç¥ç…åŠ æˆ/å‡æˆ
)
```

---

### 6.3 å¡”ç½—å åœ (Tarot Reading)

**Description**: AI-guided tarot card reading experience

**Card Spreads**:
| Spread | Cards | Use Case |
|--------|-------|----------|
| å•å¼ ç‰Œ | 1 | Quick guidance |
| ä¸‰å¼ ç‰Œ | 3 | Past-Present-Future |
| å‡¯å°”ç‰¹åå­— | 10 | Deep analysis |

**User Flow**:
```
1. User asks question or selects topic
2. AI prompts to focus on question
3. Cards appear face-down with shuffle animation
4. User clicks to reveal (or AI auto-reveals)
5. Cards flip with animation
6. AI interprets based on:
   - Card meaning (upright/reversed)
   - Position in spread
   - Combination with other cards
   - User's å…«å­— context (unique!)
```

**UI Design**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¡”ç½—å åœ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚     è¯·åœ¨å¿ƒä¸­é»˜å¿µæ‚¨çš„é—®é¢˜ï¼Œç„¶åç‚¹å‡»ç‰Œå †æŠ½ç‰Œ                     â”‚
â”‚                                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                    â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                              â”‚
â”‚                    â”‚ â–‘ ğŸ´ â–‘â–‘ â”‚  â† Click to draw             â”‚
â”‚                    â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                              â”‚
â”‚                    â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                             â”‚
â”‚     [å•å¼ ç‰Œ] [ä¸‰å¼ ç‰Œé˜µ] [å‡¯å°”ç‰¹åå­—]                          â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æŠ½ç‰Œç»“æœ                                  â”‚
â”‚                                                             â”‚
â”‚        è¿‡å»            ç°åœ¨            æœªæ¥                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚       â”‚      â”‚       â”‚      â”‚       â”‚               â”‚
â”‚     â”‚ é«˜å¡”  â”‚      â”‚ æ˜Ÿæ˜Ÿ  â”‚      â”‚ å¤ªé˜³  â”‚               â”‚
â”‚     â”‚ é€†ä½  â”‚      â”‚ æ­£ä½  â”‚      â”‚ æ­£ä½  â”‚               â”‚
â”‚     â”‚       â”‚      â”‚       â”‚      â”‚       â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â”‚  ğŸ¤– AIè§£è¯»ï¼š                                                â”‚
â”‚     è¿‡å»çš„é«˜å¡”é€†ä½æ˜¾ç¤ºæ‚¨æ›¾ç»å†åŠ¨è¡ï¼Œä½†å·²åº¦è¿‡...               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6.4 æ‰‹ç›¸åˆ†æ (Palm Reading)

**Description**: Upload or capture palm photo for AI analysis

**Analysis Areas**:
- ç”Ÿå‘½çº¿ (Life Line)
- æ™ºæ…§çº¿ (Head Line)
- æ„Ÿæƒ…çº¿ (Heart Line)
- å‘½è¿çº¿ (Fate Line)
- å¤ªé˜³çº¿ (Sun Line)
- å©šå§»çº¿ (Marriage Line)

**User Flow**:
```
1. User uploads photo or uses camera
2. AI detects palm and key lines
3. Lines are highlighted on image
4. AI provides analysis for each line
5. Combined with å…«å­— for deeper insight
```

**UI Design**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ‰‹ç›¸åˆ†æ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  è¯·ä¸Šä¼ æ‚¨çš„æ‰‹æŒç…§ç‰‡ï¼ˆå»ºè®®å·¦æ‰‹ï¼Œå…‰çº¿å……è¶³ï¼‰                      â”‚
â”‚                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚                                     â”‚                â”‚
â”‚     â”‚         [ğŸ“· æ‹ç…§] [ğŸ“ ä¸Šä¼ ]          â”‚                â”‚
â”‚     â”‚                                     â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    åˆ†æç»“æœ                                  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   â”‚  â”‚  ç”Ÿå‘½çº¿ â”â”â”â”â”â”â”â”â”â”â”         â”‚   â”‚
â”‚  â”‚    [æ‰‹æŒå›¾ç‰‡]      â”‚  â”‚  é•¿è€Œæ¸…æ™°ï¼Œä½“è´¨å¥åº·          â”‚   â”‚
â”‚  â”‚    [æ ‡æ³¨çº¿æ¡]      â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚                   â”‚  â”‚  æ™ºæ…§çº¿ â”â”â”â”â”â”â”â”â”â”â”         â”‚   â”‚
â”‚  â”‚  â” ç”Ÿå‘½çº¿         â”‚  â”‚  åˆ†å‰æ˜æ˜¾ï¼Œæ€ç»´æ´»è·ƒ          â”‚   â”‚
â”‚  â”‚  â” æ™ºæ…§çº¿         â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚  â” æ„Ÿæƒ…çº¿         â”‚  â”‚  æ„Ÿæƒ…çº¿ â”â”â”â”â”â”â”â”â”â”â”         â”‚   â”‚
â”‚  â”‚                   â”‚  â”‚  æ·±è€Œé•¿ï¼Œæ„Ÿæƒ…ä¸°å¯Œ           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ¤– ç»¼åˆåˆ†æï¼š                                              â”‚
â”‚     ç»“åˆæ‚¨çš„å…«å­—ï¼ˆç”²æœ¨æ—¥ä¸»ï¼‰ï¼Œæ‰‹ç›¸æ˜¾ç¤º...                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Technical Approach**:
- Use vision model (GPT-4V / Claude Vision) to analyze palm
- Overlay detected lines on original image
- Combine with å…«å­— data for personalized reading

---

### 6.5 é¢ç›¸åˆ†æ (Face Reading)

**Description**: Upload face photo for physiognomy analysis

**Analysis Areas**:
- äº”å®˜ (Five Organs): Eyes, Ears, Nose, Mouth, Eyebrows
- ä¸‰åœ (Three Sections): Upper, Middle, Lower face
- åäºŒå®« (Twelve Palaces): Various life aspects
- æ°”è‰² (Complexion): Current fortune indicator

**Privacy Considerations**:
- Clear disclosure about photo usage
- Option to delete immediately after analysis
- No storage of facial images

---

### 6.6 æ¯æ—¥è¿åŠ¿ (Daily Fortune)

**Description**: Personalized daily fortune based on å…«å­— + current day

**Components**:
- Overall score (0-100)
- Category scores: è´¢è¿/äº‹ä¸š/æ„Ÿæƒ…/å¥åº·
- Lucky elements: Color, Direction, Number
- Things to do / avoid
- Compatible zodiac signs for the day

**Calculation**:
```
Daily Fortune = f(
  ç”¨æˆ·å…«å­—,
  å½“æ—¥å¹²æ”¯,
  å½“æ—¥ä¸å‘½å±€çš„ç”Ÿå…‹å…³ç³»,
  æµæœˆæµæ—¥å½±å“
)
```

**UI Design**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»Šæ—¥è¿åŠ¿ Â· 2026å¹´2æœˆ1æ—¥ ä¸™å¯…æ—¥          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚           æ€»ä½“è¿åŠ¿: 78/100 â­â­â­â­       â”‚
â”‚                                         â”‚
â”‚  è´¢è¿ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%  äº‹ä¸š â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60% â”‚
â”‚  æ„Ÿæƒ… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70%  å¥åº· â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 90% â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  ğŸ¨ å¹¸è¿è‰²: ç»¿è‰²ã€é»‘è‰²                    â”‚
â”‚  ğŸ§­ å¹¸è¿æ–¹ä½: ä¸œæ–¹ã€åŒ—æ–¹                  â”‚
â”‚  ğŸ”¢ å¹¸è¿æ•°å­—: 1, 6                       â”‚
â”‚  ğŸ² è´µäººç”Ÿè‚–: è™ã€å…”                      â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  âœ… å®œ: æ±‚è´¢ã€é¢è¯•ã€ç­¾çº¦                  â”‚
â”‚  âŒ å¿Œ: åŠ¨åœŸã€æ¬å®¶ã€è¿œè¡Œ                  â”‚
â”‚                                         â”‚
â”‚  ğŸ’¡ ä»Šæ—¥æç¤º:                            â”‚
â”‚     ä¸™ç«ç”ŸåŠ©æ‚¨çš„æ—¥ä¸»ç”²æœ¨ï¼Œä»Šå¤©ç²¾åŠ›å……æ²›ï¼Œ   â”‚
â”‚     é€‚åˆå¤„ç†é‡è¦äº‹åŠ¡ã€‚ä¸‹åˆç”³æ—¶åæ³¨æ„ä¼‘æ¯ã€‚ â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6.7 åˆå©šé…å¯¹ (Compatibility)

**Description**: Analyze relationship compatibility between two people

**Analysis Dimensions**:
- ç”Ÿè‚–é…å¯¹ (Zodiac compatibility)
- å…«å­—åˆå©š (BaZi compatibility)
- äº”è¡Œäº’è¡¥ (Element balance)
- æ—¥æŸ±é…å¯¹ (Day Pillar matching)
- ç¥ç…å½±å“ (ShenSha effects)

**Output**:
- Compatibility score (0-100)
- Strengths of the pairing
- Potential challenges
- Advice for harmonious relationship

---

### 6.8 æ‹©æ—¥æ‹©æ—¶ (Date Selection)

**Description**: Find auspicious dates for important events

**Event Types**:
- ç»“å©š (Wedding)
- æ¬å®¶ (Moving)
- å¼€ä¸š (Business opening)
- ç­¾çº¦ (Contract signing)
- å‡ºè¡Œ (Travel)
- æ‰‹æœ¯ (Surgery)

**Output**:
- List of auspicious dates
- Best time slots within each date
- Things to avoid on each date

---

## 7. Technical Architecture

### 7.1 System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Frontend                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         React + Vite                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Dashboard  â”‚  â”‚    Chat     â”‚  â”‚    Feature Modules      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  Components â”‚  â”‚  Components â”‚  â”‚  (Tarot, Palm, etc.)    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                           â”‚                                      â”‚   â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                              â”‚   â”‚
â”‚  â”‚                    â”‚ State Store â”‚  (Zustand / React Context)   â”‚   â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                    â”‚
â”‚                              REST / WebSocket                           â”‚
â”‚                                    â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Backend                                     â”‚
â”‚                                    â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          Django                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Views      â”‚  â”‚  API        â”‚  â”‚  WebSocket Consumers    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (HTML)     â”‚  â”‚  (REST)     â”‚  â”‚  (Chat Streaming)       â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                           â”‚                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                   Application Services                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ BaziServiceâ”‚ â”‚ AIService  â”‚ â”‚TarotServiceâ”‚ â”‚PalmServiceâ”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                           â”‚                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                     Domain Layer                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (Pure Python - BaZi calculations, no Django dependencies)   â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚               â”‚               â”‚                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”              â”‚
â”‚              â”‚ PostgreSQL â”‚  â”‚ OpenAI API  â”‚  â”‚  Redis  â”‚              â”‚
â”‚              â”‚ (User data)â”‚  â”‚ (AI Chat)   â”‚  â”‚ (Cache) â”‚              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 API Endpoints

```
API Routes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Authentication
  POST   /api/auth/login
  POST   /api/auth/register
  POST   /api/auth/logout

Profiles
  GET    /api/profiles/              # List user's profiles
  POST   /api/profiles/              # Create new profile
  GET    /api/profiles/{id}/         # Get profile
  PUT    /api/profiles/{id}/         # Update profile
  DELETE /api/profiles/{id}/         # Delete profile

BaZi Analysis
  POST   /api/bazi/calculate         # Calculate BaZi from birth info
  GET    /api/bazi/{profile_id}/     # Get full analysis
  GET    /api/bazi/{profile_id}/wuxing    # Get äº”è¡Œ data
  GET    /api/bazi/{profile_id}/shensha   # Get ç¥ç… data
  GET    /api/bazi/{profile_id}/fortune   # Get fortune timeline

AI Chat
  POST   /api/chat/                  # Send message (streaming response)
  GET    /api/chat/history           # Get chat history
  DELETE /api/chat/history           # Clear chat history

Features
  POST   /api/tarot/draw             # Draw tarot cards
  POST   /api/palm/analyze           # Analyze palm image
  POST   /api/face/analyze           # Analyze face image
  GET    /api/daily-fortune/{profile_id}/  # Get daily fortune
  POST   /api/compatibility/         # Check compatibility
  POST   /api/date-selection/        # Find auspicious dates
```

### 7.3 Database Schema

```sql
-- User profile with birth info
CREATE TABLE user_profiles (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES auth_user(id),
    name VARCHAR(100),
    birth_year INTEGER,
    birth_month INTEGER,
    birth_day INTEGER,
    birth_hour INTEGER,
    birth_minute INTEGER DEFAULT 0,
    gender VARCHAR(10),
    timezone VARCHAR(50) DEFAULT 'Asia/Shanghai',
    is_default BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Cached BaZi analysis
CREATE TABLE bazi_analysis (
    id SERIAL PRIMARY KEY,
    profile_id INTEGER REFERENCES user_profiles(id),
    bazi_json JSONB,           -- Full BaZi chart
    wuxing_json JSONB,         -- äº”è¡Œ strength
    shensha_json JSONB,        -- ç¥ç… list
    dayun_json JSONB,          -- å¤§è¿ data
    analysis_text TEXT,        -- AI-generated summary
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Chat history
CREATE TABLE chat_messages (
    id SERIAL PRIMARY KEY,
    profile_id INTEGER REFERENCES user_profiles(id),
    role VARCHAR(20),          -- 'user' or 'assistant'
    content TEXT,
    tool_calls JSONB,          -- AI tool calls
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Tarot readings
CREATE TABLE tarot_readings (
    id SERIAL PRIMARY KEY,
    profile_id INTEGER REFERENCES user_profiles(id),
    spread_type VARCHAR(50),
    question TEXT,
    cards JSONB,               -- Cards drawn
    interpretation TEXT,       -- AI interpretation
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## 8. Implementation Roadmap

### Phase 1: Foundation (Weeks 1-2)

**Goal**: Responsive layout + chat infrastructure

| Task | Priority | Estimate |
|------|----------|----------|
| Create split-view layout (desktop) | P0 | 2d |
| Create chat-first layout (mobile) | P0 | 2d |
| Build chat message components | P0 | 2d |
| Implement chat input with streaming | P0 | 2d |
| Set up state management | P0 | 1d |
| Responsive breakpoint logic | P0 | 1d |

**Deliverable**: Working layout that switches between desktop/mobile, basic chat UI

---

### Phase 2: BaZi Dashboard (Weeks 3-4)

**Goal**: Core BaZi visualization components

| Task | Priority | Estimate |
|------|----------|----------|
| å…«å­—å‘½ç›˜ card component | P0 | 2d |
| äº”è¡ŒåŠ›é‡ bar/radar chart | P0 | 2d |
| å‘½è¿Kçº¿ chart with Chart.js | P0 | 3d |
| ç¥ç… card grid | P0 | 2d |
| Card expansion/collapse | P1 | 1d |
| Desktop panel integration | P0 | 1d |
| Mobile inline card system | P0 | 2d |

**Deliverable**: Full BaZi dashboard on desktop, cards in chat on mobile

---

### Phase 3: AI Integration (Weeks 5-6)

**Goal**: Connect AI for conversational analysis

| Task | Priority | Estimate |
|------|----------|----------|
| AI service setup (OpenAI/Claude) | P0 | 1d |
| Context injection system | P0 | 2d |
| Tool call parsing & execution | P0 | 3d |
| Streaming response handling | P0 | 2d |
| Prompt engineering & testing | P0 | 2d |
| Cross-panel sync (highlight) | P1 | 2d |

**Deliverable**: AI can analyze BaZi, answer questions, render charts

---

### Phase 4: Tarot Feature (Weeks 7-8)

**Goal**: Complete tarot card reading experience

| Task | Priority | Estimate |
|------|----------|----------|
| Tarot card asset creation | P1 | 2d |
| Card deck component | P1 | 2d |
| Shuffle & draw animation | P1 | 2d |
| Card reveal animation | P1 | 1d |
| Spread layouts (1/3/10 cards) | P1 | 2d |
| AI interpretation integration | P1 | 2d |

**Deliverable**: Users can draw tarot cards, see animations, get AI readings

---

### Phase 5: Palm Reading (Weeks 9-10)

**Goal**: Palm photo analysis feature

| Task | Priority | Estimate |
|------|----------|----------|
| Image upload component | P1 | 1d |
| Camera capture (mobile) | P1 | 2d |
| Vision API integration | P1 | 2d |
| Line overlay visualization | P1 | 2d |
| Analysis result display | P1 | 2d |
| Combine with BaZi context | P1 | 1d |

**Deliverable**: Upload/capture palm, see analysis with line highlights

---

### Phase 6: Polish & Launch (Weeks 11-12)

**Goal**: Production-ready quality

| Task | Priority | Estimate |
|------|----------|----------|
| Performance optimization | P0 | 2d |
| Accessibility audit | P1 | 1d |
| Dark mode support | P1 | 2d |
| Error handling & edge cases | P0 | 2d |
| Analytics integration | P2 | 1d |
| Documentation | P1 | 1d |
| User testing & fixes | P0 | 3d |

**Deliverable**: Launch-ready product

---

## Appendix

### A. Five Elements Color Reference

```css
:root {
  /* äº”è¡Œè‰² */
  --wood: #22c55e;   /* æœ¨ - Green */
  --fire: #ef4444;   /* ç« - Red */
  --earth: #eab308;  /* åœŸ - Yellow */
  --metal: #a1a1aa;  /* é‡‘ - Silver/Gray */
  --water: #3b82f6;  /* æ°´ - Blue */

  /* Extended palette */
  --wood-light: #86efac;
  --wood-dark: #166534;
  --fire-light: #fca5a5;
  --fire-dark: #991b1b;
  /* ... etc */
}
```

### B. Tarot Card List (Major Arcana)

| Number | Name (EN) | Name (CN) |
|--------|-----------|-----------|
| 0 | The Fool | æ„šè€… |
| 1 | The Magician | é­”æœ¯å¸ˆ |
| 2 | The High Priestess | å¥³ç¥­å¸ |
| 3 | The Empress | å¥³çš‡ |
| 4 | The Emperor | çš‡å¸ |
| 5 | The Hierophant | æ•™çš‡ |
| 6 | The Lovers | æ‹äºº |
| 7 | The Chariot | æˆ˜è½¦ |
| 8 | Strength | åŠ›é‡ |
| 9 | The Hermit | éšå£« |
| 10 | Wheel of Fortune | å‘½è¿ä¹‹è½® |
| 11 | Justice | æ­£ä¹‰ |
| 12 | The Hanged Man | å€’åŠäºº |
| 13 | Death | æ­»ç¥ |
| 14 | Temperance | èŠ‚åˆ¶ |
| 15 | The Devil | æ¶é­” |
| 16 | The Tower | é«˜å¡” |
| 17 | The Star | æ˜Ÿæ˜Ÿ |
| 18 | The Moon | æœˆäº® |
| 19 | The Sun | å¤ªé˜³ |
| 20 | Judgement | å®¡åˆ¤ |
| 21 | The World | ä¸–ç•Œ |

### C. ShenSha Reference

**Auspicious (å‰ç¥)**:
å¤©ä¹™è´µäºº, æ–‡æ˜Œæ˜Ÿ, å¤©å¾·è´µäºº, æœˆå¾·è´µäºº, å¤©å¨, é‡‘èˆ†, ç¦„ç¥,
é©¿é©¬(context), åç›–(context), å°†æ˜Ÿ, å¤©åŒ»

**Inauspicious (å‡¶ç…)**:
ç¾Šåˆƒ, äº¡ç¥, åŠ«ç…, ç¾ç…, å­¤è¾°, å¯¡å®¿, å…­å„, å’¸æ± , çº¢è‰³,
æ¡ƒèŠ±(context), ç©ºäº¡

---

*Document End*
